# Example SOPS secrets file for Dispatcharr
# Copy to secrets.sops.yaml and encrypt with: sops -e -i secrets.sops.yaml
#
# Required secrets:
#   - dispatcharr/db_password: PostgreSQL password (used for provisioning and runtime)
#
# Setup instructions:
#   1. Copy this file: cp secrets.sops.yaml.example secrets.sops.yaml
#   2. Generate password:
#      openssl rand -base64 32 > /tmp/db_password
#   3. Edit with SOPS: sops secrets.sops.yaml
#   4. Paste the generated password and save
#   5. Clean up: shred -u /tmp/db_password

dispatcharr:
  # PostgreSQL database password
  # Used for both:
  # 1. Database provisioning (read by postgres user)
  # 2. Runtime connection (embedded in DATABASE_URL by systemd preStart)
  #
  # IMPORTANT: Dispatcharr does NOT support DATABASE_PASSWORD_FILE
  # The password is URL-encoded and injected into DATABASE_URL at runtime
  # Special characters (@, :, /, etc.) are automatically handled
  db_password: CHANGEME_GENERATE_SECURE_PASSWORD

# NOTE: Dispatcharr always uses external PostgreSQL (AIO mode removed)
# The container includes embedded Redis via s6-overlay for Celery queues
